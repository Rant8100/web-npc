{
  "name": "DialogMemory",
  "type": "object",
  "properties": {
    "player_id": {
      "type": "string",
      "description": "ID \u0438\u0433\u0440\u043e\u043a\u0430 (\u0441\u0432\u044f\u0437\u044c \u0441 User)"
    },
    "npc_id": {
      "type": "string",
      "description": "ID NPC"
    },
    "facts": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "fact": {
            "type": "string"
          },
          "timestamp": {
            "type": "string"
          }
        }
      },
      "description": "\u0417\u0430\u043f\u043e\u043c\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u043a\u0442\u044b \u043e \u0434\u0438\u0430\u043b\u043e\u0433\u0435"
    },
    "reputation": {
      "type": "object",
      "description": "\u0420\u0435\u043f\u0443\u0442\u0430\u0446\u0438\u044f \u0438\u0433\u0440\u043e\u043a\u0430 \u043f\u043e \u0440\u0430\u0437\u043d\u044b\u043c \u043e\u0441\u044f\u043c"
    },
    "visited_locations": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "\u041f\u043e\u0441\u0435\u0449\u0451\u043d\u043d\u044b\u0435 \u043b\u043e\u043a\u0430\u0446\u0438\u0438"
    },
    "quest_states": {
      "type": "object",
      "description": "\u0421\u0442\u0430\u0442\u0443\u0441\u044b \u043a\u0432\u0435\u0441\u0442\u043e\u0432 (quest_id -> {status, last_hint_index, notes})"
    },
    "scene_flags": {
      "type": "object",
      "description": "\u0424\u043b\u0430\u0433\u0438 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0441\u0446\u0435\u043d\u044b (\u0448\u0442\u043e\u0440\u043c, \u043a\u043e\u043c\u0435\u043d\u0434\u0430\u043d\u0442\u0441\u043a\u0438\u0439 \u0447\u0430\u0441 \u0438 \u0442.\u0434.)"
    },
    "current_emotion": {
      "type": "string",
      "description": "\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u044d\u043c\u043e\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 NPC \u043a \u0438\u0433\u0440\u043e\u043a\u0443"
    },
    "inventory_given": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u044b, \u0432\u044b\u0434\u0430\u043d\u043d\u044b\u0435 \u044d\u0442\u043e\u043c\u0443 \u0438\u0433\u0440\u043e\u043a\u0443"
    },
    "last_interaction": {
      "type": "string",
      "format": "date-time",
      "description": "\u0412\u0440\u0435\u043c\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"
    }
  },
  "required": [
    "player_id",
    "npc_id"
  ]
}